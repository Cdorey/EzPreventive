@using EzNutrition.Client.Models
@using EzNutrition.Client.Pages
@using EzNutrition.Client.Services;
@inject UserSessionService UserSession
@inject MainTreatmentViewModel MaintreatmentVM
<Menu Mode="MenuMode.Vertical" Theme="MenuTheme.Dark">
    <MenuItem RouterLink="">
        <Icon Type="home" Theme="outline" />
        <span>首页</span>
    </MenuItem>
    @if (UserSession.UserInfo is not null)
    {
        <MenuItem RouterLink="maintreatment">
            <Icon Type="medicine-box" Theme="outline" />
            <span>基本处理</span>
        </MenuItem>
        <MenuItem RouterLink="drisinsights">
            <Icon Type="medicine-box" Theme="outline" />
            <span>DRIs见解</span>
        </MenuItem>
    }

</Menu>

@code {
    protected override void OnInitialized()
    {
        UserSession.AuthenticationStateChanged += (e) =>
        {
            StateHasChanged();
        };
        base.OnInitialized();
    }

}
